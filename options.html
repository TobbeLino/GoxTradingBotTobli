<style>
body {
	font-family: Verdana, Arial, Helvetica, sans-serif;
}
table.top {
	border: 2px solid black;
	padding: 5px;
	width:500px;
	background-color:#F0F0C0;
}
.outer {
	padding:20px;
	vertical-align:top;	
}
table.top td {
	font-size:12px;
}

sup {
	font-size:70%;
	color:red;
	font-style:italic;
	font-weight:bold;
}
.mono {
	font-size:12px;
	font-family:monospace;
}
.maxwide {
	width:100%;
}
.r {
	text-align:right;
}
.note {
	font-size:11px;
	font-style:italic;
}
.info {
	font-size:12px;
	font-style:italic;
}
.stat {
	text-align:center;
}
</style>
<table border="0" style="width:100%;max-width:1100px">
	<tr>
		<td class="outer">
			
			<table cellpadding="2" class="top">
				<form>
					<tr>
					 <td nowrap="nowrap" style="vertical-align:top;padding-top:5px;">MtGox API Key<sup> 1</sup></td>
					 <td>
						<input type="text" size="36" id="apikey" class="mono maxwide">
					 </td>
					</tr>
										
					<tr>
					 <td nowrap="nowrap" style="vertical-align:top;padding-top:5px;width:100px"><nobr>MtGox API Secret<sup> 1</sup>&nbsp;</nobr></td>
					 <td>
						<textarea id="apisec" cols="36" rows="3" class="mono maxwide"></textarea>
					 </td>
					</tr>

					<tr>
						<td nowrap="nowrap" style="vertical-align:top;padding-top:5px;">Trading enabled</td>
						<td>
							<input type="checkbox" value="true" id="tradingEnabled"> (uncheck to disable actual trading)
						</td>
					</tr>
					
					<tr>
						<td nowrap="nowrap" style="vertical-align:top;padding-top:5px;">Sample interval</td>
						<td>
							<select id="tradingIntervalMinutes" class="mono">
								<option value="3">3 minutes</option>
								<option value="5">5 minutes</option>
								<option value="10">10 minutes</option>
								<option value="15">15 minutes</option>
								<option value="30">30 minutes</option>
								<option value="45">45 minutes</option>
								<option value="60">1 hour</option>
								<option value="120">2 hours</option>
								<option value="180">3 hours</option>
							</select>
						</td>
					</tr>

					<tr>
						<td nowrap="nowrap" style="vertical-align:top;padding-top:5px;">Trade after</td>
						<td>
							<select id="tickCount" class="mono">
								<option value="1">1 sample</option>
								<option value="2">2 samples</option>
								<option value="3">3 samples</option>
							</select> above/below thresholds
						</td>
					</tr>
					
					<tr>
						<td nowrap="nowrap" style="vertical-align:top;padding-top:5px;">Show last</td>
						<td>
							<select id="sla" class="mono">
								<option value="1">1 hour</option>
								<option value="3">3 hours</option>
								<option value="6">6 hours</option>
								<option value="12">12 hours</option>
								<option value="24">1 day</option>
								<option value="48">2 days</option>
								<option value="72">3 days</option>
								<option value="96">4 days</option>
								<option value="120">5 days</option>
							</select> (max 144 ticks)
						</td>
					</tr>


					<tr>
						<td nowrap="nowrap" style="vertical-align:top;padding-top:7px;">Trend indicator</td>
						<td>EMA(<input type="text" size="2" maxlength="2" id="emas" class="mono r">) / EMA(<input type="text" size="2" maxlength="2" id="emal" class="mono r">)</td>
					</tr>

					<tr>
						<td colspan="2">
							<table width="400" height="40">
								<tr>
									<td width="50%">Buy threshold: <input type="text" size="4" maxlength="4" id="buy_tras" class="mono r">%<sup> 2</sup></td>
									<td>Sell threshold: -<input type="text" size="4" maxlength="4" id="sell_tras" class="mono r">%<sup> 2</sup></td>
								</tr>
							</table>
						</td>
					</tr>
					
					<tr>
						<td colspan="2">
							<table width="400" height="20">
								<tr>
									<td width="50%">Volatility samples: <input type="text" size="4" maxlength="4" id="vol_samp" class="mono r"><sup> 3</sup></td>
								</tr>
							</table>
						</td>
					</tr>
					
					<tr>
						<td colspan="2">
							<table width="450" height="30">
								<tr>
									<td width="50%">Volatility buy threshold: <input type="text" size="4" maxlength="4" id="vol_btras" class="mono r"><sup> 3</sup></td>
									<td>Volatility sell threshold: <input type="text" size="4" maxlength="4" id="vol_stras" class="mono r"><sup> 3</sup></td>
								</tr>
							</table>
						</td>
					</tr>
					
					<tr>
						<td colspan="2">
							<table width="360">
								<tr>
									<td width="50%">Fiat currency: <input type="text" size="6" id="currency" class="mono"></td>
									<td>Keep BTC: <input type="text" size="6" id="keepBTC" class="mono"></td>
									<!--<td>Keep Fiat: <input type="text" size="6" id="keepFiat" class="mono"></td>-->
								</tr>
							</table>
						</td>
					</tr>
					
					<tr>
					 <td colspan="2" align="center">
					  <input type="button" style="width:200px;" id="butres" value="Reset to defaults">
					  <input type="submit" style="width:200px;" id="butsav" value="Apply and save changes">
					 </td>
					</tr>
				</form>
			</table>

		</td>
		<td class="outer">
			<div class="info">
				Read <a href="https://bitcointalk.org/index.php?topic=60501" target="_blank">Goomboo's Journal</a> to learn about the strategy used by this trading bot.<br>
				The bot uses the first traded price of each sample interval for the EMA input.
			</div>
			<hr>
			<div class="note">
				<sup>1</sup>
				Take <b>API Key</b> and <b>Secret</b> from your MtGox account. Use <b>Advanced API Key Creation</b> at <a href="https://mtgox.com/security" target="_blank">Security Center</a> page to create these values. Make sure to grant only <b>get_info</b> and <b>trade</b> access rights for this API key. The bot does not need you to be logged at the MtGox account - just setup the Key&Secret, leave the browser running and it will trade...<br><br>
				<sup>2</sup>
				The bot will buy bitcoins for the <u>whole amount of fiat money</u>, or sell <u>all bitcoins, minus the value of "Keep BTC"</u> at the given MtGox account when the difference between the two EMA values (expressed in %) stays above/below the <b>Buy/sell thresholds</b> for as many samples as selected in "Trade after X samples above/below threshold".<br><br>
				<sup>3</sup>
				The bot will buy or sell bitcoins if the volatility is above the thresholds. The volatility samples determine how far back the bot will look to spot volatility. Volatility is worked out by finding the highest price and taking away the lowest price from within the previous X amount of prices (volatility samples).
				</div>	
			<hr>
			<div class="note stat">
				If you like this extension send <b>0.01</b>&nbsp;BTC to <b>13g6zY7GJJvKEiYzTnGP8H9dEDEhYW2jFq</b>
			</div>
<br>
			<div class="note stat" style="background-color:#F0F0C0;padding:8px 0px; margin-top:10px; line-height:15px">
				Modified by TobbeLino<br>If you like my modifications, feel free to donate :) <b>1LUqdAXvH9gbYemZKeiMrVJ5njhm6ZvKmF</b>
			</div>
			
			<div class="note stat" style="background-color:#F0F0C0;padding:8px 0px; margin-top:10px; line-height:15px">
				Modified by eduk to include volatility check and sound notification
			</div>
			
			<div class="note stat" style="background-color:#F0F0C0;padding:8px 0px; margin-top:10px; line-height:15px">
				Soundfile notify.wav used from ehproductions on Freesound.org http://www.freesound.org/people/ehproductions licensed under Creative Commons Attribution Noncommercial License.
		</td> 
	</tr>
</table>

<script src="options.js"></script>
<script>				var sndsell = new Audio("notify.wav");
				sndsell.play();</script>